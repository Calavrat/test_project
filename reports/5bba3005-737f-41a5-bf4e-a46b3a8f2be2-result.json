{"name": "Создание нового сотрудника", "status": "broken", "statusDetails": {"message": "Exception: Не удалось выполнить запрос после 3 попыток", "trace": "dummy_page = <pages.dummy_page.DummyPage object at 0x728a186c0860>\n\n    @allure.story('Тестирование api')\n    @allure.title('Создание нового сотрудника')\n    @allure.description('По ендпоинту создать сотрудника https://dummy.restapiexample.com/api/v1/create')\n    def test_create_employess(dummy_page):\n        with allure.step('Создание нового сотрудника и проверка то что он создан'):\n>           dummy_page.createEmployee()\n\ntest_api.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../pages/dummy_page.py:62: in createEmployee\n    get_response = send_api_request(self.page, method='GET', url=get_url)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncontext = <Page url='about:blank'>, method = 'GET', url = 'https://dummy.restapiexample.com/api/v1/employee/1020', data = None, headers = None, max_retries = 3\n\n    def send_api_request(context, method, url, data=None, headers=None, max_retries=3):\n        \"\"\"\n        Отправляет API-запрос и автоматически обрабатывает 429 ошибку.\n        \"\"\"\n        for attempt in range(1, max_retries + 1):\n            logging.info(f\"Попытка {attempt} — Запрос: {method} {url}\")\n    \n            if method.upper() == 'POST':\n                response = context.request.post(url, data=data, headers=headers)\n            elif method.upper() == 'GET':\n                response = context.request.get(url)\n            else:\n                raise ValueError(f\"Метод '{method}' не поддерживается\")\n    \n            if response.status == 429:\n                logging.warning(\"Получен 429 Too Many Requests. Жду 5 секунд...\")\n                time.sleep(10)\n            else:\n                return response\n    \n>       raise Exception(f\"Не удалось выполнить запрос после {max_retries} попыток\")\nE       Exception: Не удалось выполнить запрос после 3 попыток\n\n../pages/dummy_page.py:28: Exception"}, "description": "По ендпоинту создать сотрудника https://dummy.restapiexample.com/api/v1/create", "steps": [{"name": "Создание нового сотрудника и проверка то что он создан", "status": "broken", "statusDetails": {"message": "Exception: Не удалось выполнить запрос после 3 попыток\n", "trace": "  File \"/home/hama/Документы/PythonTests/playwright_project_2/tests/test_api.py\", line 17, in test_create_employess\n    dummy_page.createEmployee()\n  File \"/home/hama/Документы/PythonTests/playwright_project_2/pages/dummy_page.py\", line 62, in createEmployee\n    get_response = send_api_request(self.page, method='GET', url=get_url)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/hama/Документы/PythonTests/playwright_project_2/pages/dummy_page.py\", line 28, in send_api_request\n    raise Exception(f\"Не удалось выполнить запрос после {max_retries} попыток\")\n"}, "start": 1748712442569, "stop": 1748712477841}], "attachments": [{"name": "log", "source": "0a6c0b30-62dc-4427-ba23-177919f7b8b4-attachment.txt", "type": "text/plain"}, {"name": "stdout", "source": "fcaaf60d-1f96-42c3-97bc-3bf7efa2659e-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "7510044e-d981-468e-98d7-d98bf378bc51-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "browser_name", "value": "'firefox'"}], "start": 1748712442569, "stop": 1748712477844, "uuid": "9a19b219-06e8-48ab-b5b4-83ff64abaa26", "historyId": "25b2cad223fabcceac01be3b076e21b5", "testCaseId": "956d3f72c027d6f6df39f72649adb257", "fullName": "tests.test_api#test_create_employess", "labels": [{"name": "story", "value": "Тестирование api"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_api"}, {"name": "host", "value": "hama-ZenBook-UX425IA-UM425IA"}, {"name": "thread", "value": "40066-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_api"}]}