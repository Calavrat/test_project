{"name": "Создание нового сотрудника", "status": "broken", "statusDetails": {"message": "Exception: Не удалось выполнить запрос после 3 попыток", "trace": "dummy_page = <pages.dummy_page.DummyPage object at 0x7beeb46e6030>\n\n    @allure.story('Тестирование api')\n    @allure.title('Создание нового сотрудника')\n    @allure.description('По ендпоинту создать сотрудника https://dummy.restapiexample.com/api/v1/create')\n    def test_create_employess(dummy_page):\n        with allure.step('Создание нового сотрудника и проверка то что он создан'):\n>           dummy_page.createEmployee()\n\ntest_api.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../pages/dummy_page.py:62: in createEmployee\n    get_response = send_api_request(self.page, method='GET', url=get_url)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncontext = <Page url='about:blank'>, method = 'GET', url = 'https://dummy.restapiexample.com/api/v1/employee/8454', data = None, headers = None, max_retries = 3\n\n    def send_api_request(context, method, url, data=None, headers=None, max_retries=3):\n        \"\"\"\n        Отправляет API-запрос и автоматически обрабатывает 429 ошибку.\n        \"\"\"\n        for attempt in range(1, max_retries + 1):\n            logging.info(f\"Попытка {attempt} — Запрос: {method} {url}\")\n    \n            if method.upper() == 'POST':\n                response = context.request.post(url, data=data, headers=headers)\n            elif method.upper() == 'GET':\n                response = context.request.get(url)\n            else:\n                raise ValueError(f\"Метод '{method}' не поддерживается\")\n    \n            if response.status == 429:\n                logging.warning(\"Получен 429 Too Many Requests. Жду 5 секунд...\")\n                time.sleep(20)\n            else:\n                return response\n    \n>       raise Exception(f\"Не удалось выполнить запрос после {max_retries} попыток\")\nE       Exception: Не удалось выполнить запрос после 3 попыток\n\n../pages/dummy_page.py:28: Exception"}, "description": "По ендпоинту создать сотрудника https://dummy.restapiexample.com/api/v1/create", "steps": [{"name": "Создание нового сотрудника и проверка то что он создан", "status": "broken", "statusDetails": {"message": "Exception: Не удалось выполнить запрос после 3 попыток\n", "trace": "  File \"/home/hama/Документы/PythonTests/playwright_project_2/tests/test_api.py\", line 17, in test_create_employess\n    dummy_page.createEmployee()\n  File \"/home/hama/Документы/PythonTests/playwright_project_2/pages/dummy_page.py\", line 62, in createEmployee\n    get_response = send_api_request(self.page, method='GET', url=get_url)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/hama/Документы/PythonTests/playwright_project_2/pages/dummy_page.py\", line 28, in send_api_request\n    raise Exception(f\"Не удалось выполнить запрос после {max_retries} попыток\")\n"}, "start": 1748712658165, "stop": 1748712722131}], "attachments": [{"name": "log", "source": "54fe1443-2eea-4f1a-90c4-0b8a48e840f7-attachment.txt", "type": "text/plain"}, {"name": "stdout", "source": "d5d9d900-d183-464a-bae0-d5038b93512f-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "1cec7749-4525-4c74-8e2a-53122c664927-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "browser_name", "value": "'firefox'"}], "start": 1748712658165, "stop": 1748712722137, "uuid": "fc3ea0bb-a626-43dc-87df-820744ca6666", "historyId": "25b2cad223fabcceac01be3b076e21b5", "testCaseId": "956d3f72c027d6f6df39f72649adb257", "fullName": "tests.test_api#test_create_employess", "labels": [{"name": "story", "value": "Тестирование api"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_api"}, {"name": "host", "value": "hama-ZenBook-UX425IA-UM425IA"}, {"name": "thread", "value": "41042-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_api"}]}